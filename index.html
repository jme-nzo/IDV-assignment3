<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>D3 Path Visualization</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body { margin: 0; background: #f6f6f6; }
    #chart { width: 100vw; height: 100vh; }
  </style>
</head>
<body>
<div id="chart"></div>

<script>
const width = 900, height = 600;

// Create SVG
const svg = d3.select("#chart")
  .append("svg")
  .attr("width", width)
  .attr("height", height);

// --- Background grid ---
const gridSize = 40;
for (let x = 0; x < width; x += gridSize) {
  svg.append("line")
    .attr("x1", x).attr("y1", 0)
    .attr("x2", x).attr("y2", height)
    .attr("stroke", "#ddd");
}
for (let y = 0; y < height; y += gridSize) {
  svg.append("line")
    .attr("x1", 0).attr("y1", y)
    .attr("x2", width).attr("y2", y)
    .attr("stroke", "#ddd");
}

// --- Covered space area ---
svg.append("path")
  .attr("d", "M 100 450 C 200 300, 350 320, 500 350 C 650 380, 750 300, 820 330 L 820 400 C 720 350, 600 400, 500 420 C 350 450, 200 440, 100 480 Z")
  .attr("fill", "rgba(173, 216, 230, 0.4)")  // light blue
  .attr("stroke", "none");

// Label
svg.append("text")
  .attr("x", 350).attr("y", 380)
  .text("covered space")
  .attr("fill", "#3b70b2")
  .attr("font-size", "18px")
  .attr("font-family", "sans-serif")
  .attr("transform", "rotate(-15 350 380)");

svg.append("text")
  .attr("x", 350).attr("y", 410)
  .text("no coverage")
  .attr("fill", "#3b70b2")
  .attr("font-size", "18px")
  .attr("font-family", "sans-serif")
  .attr("transform", "rotate(-15 350 410)");

// --- Arrowhead marker ---
svg.append("defs").append("marker")
  .attr("id", "arrow").attr("viewBox", "0 0 10 10")
  .attr("refX", 5).attr("refY", 5)
  .attr("markerWidth", 6).attr("markerHeight", 6)
  .attr("orient", "auto-start-reverse")
  .append("path")
  .attr("d", "M 0 0 L 10 5 L 0 10 z")
  .attr("fill", "#222");

// --- Main arrow path ---
svg.append("path")
  .attr("d", "M 120 470 C 200 350, 350 330, 500 360 C 650 390, 720 330, 810 340")
  .attr("fill", "none")
  .attr("stroke", "#222")
  .attr("stroke-width", 3)
  .attr("marker-end", "url(#arrow)")
  .attr("marker-mid", "url(#arrow)");

// --- Random start angled path ---
svg.append("path")
  .attr("d", "M 100 200 L 170 100")
  .attr("stroke", "#000")
  .attr("stroke-width", 3)
  .attr("marker-end", "url(#arrow)");

svg.append("text")
  .attr("x", 80).attr("y", 180)
  .text("random start")
  .attr("font-size", "18px")
  .attr("font-family", "sans-serif");

// --- Squares for x and x' ---
svg.append("rect")
  .attr("x", 420).attr("y", 310)
  .attr("width", 25).attr("height", 25)
  .attr("fill", "#4a2ca3"); // purple

svg.append("text")
  .attr("x", 430).attr("y", 305)
  .text("x")
  .attr("font-size", "20px")
  .attr("font-family", "sans-serif")
  .attr("fill", "#000");

svg.append("rect")
  .attr("x", 780).attr("y", 300)
  .attr("width", 25).attr("height", 25)
  .attr("fill", "#b72b1a"); // red

svg.append("text")
  .attr("x", 790).attr("y", 295)
  .text("x'")
  .attr("font-size", "20px")
  .attr("font-family", "sans-serif")
  .attr("fill", "#000");
</script>
</body>
</html>
